<div content-for="title">
  Dataset
</div>

<div content-for="navbarAction">
  <div class="btn btn-navbar" toggle target="addMeasurementOverlay">
    <i class="fa fa-plus"></i> New weight
  </div>
</div>

<div class="scrollable" ng:hide="isSignedIn">
  <div class="scrollable-content">
    <div class="container section">
      <br/>
      <p class="lead text-center"><strong>Sign in to see this dataset.</strong></p>
    </div>
  </div>
</div>

<div overlay="addMeasurementOverlay">
  <h4 class="overlay-title">Add a new weight measurement</h4>
  <div class="container">
    <form class="form" name="addMeasurementForm">
      <input type="number" class="form-control" name="weight" placeholder="kilos"
        ng:model="measurement.weight" required/>
      <button toggle="off" bubble ng:click="submitNewMeasurement(measurement)"
        target="addMeasurementOverlay" ng:disabled="addMeasurementForm.$invalid"
        type="submit" class="form-control btn btn-primary">Add</buton>
      </div>
    </form>
  </div>
</div>

<div class="scrollable" ng:show="isSignedIn">
  <div class="scrollable-content">

<!-- begin view content -->

<div class="section container-fluid">
  <div class="loading-indicator" ng:show="loading">
    <br/>
    <p class="lead text-center">
      <strong>Loading&hellip;</strong>
    </p>
  </div>
  <div title="{{ name }}" bs:panel>
    <div class="row">
      <div class="col-sm-3 col-xs-4">
        <div class="weight-badge weight-badge-danger">
          {{ startWeight | number : 0 }} <small>kg</small>
        </div>
      </div>

      <div class="weight-progress-container col-sm-6 col-xs-4">
        <div class="hidden-xs weight-progress-bar">
          <wa-progress-bar min="0" max="100" value="{{ 100 * progress }}" />
        </div>
        <div class="visible-xs weight-progress-label" style="text-align: center">
          <span class="weight-progress-percentage">{{ 100 * progress | number : 0 }}% to</span>
        </div>
      </div>

      <div class="col-sm-3 col-xs-4">
        <div class="weight-badge weight-badge-success">
          {{ targetWeight | number : 0 }} <small>kg</small>
        </div>
      </div>
    </div>

    <div>
      <wa:weight-graph class="weight-graph" weights="weights" goal="goal"></wa:weight-graph>
      <div ng:if="spreadsheetViewLink" class="text-right">
        <small><a ng:href="{{ spreadsheetViewLink }}" target="_blank">
            <span class="text-muted">view in Google Drive</span>
        </a></small>
      </div>
    </div>
  </div>
</div>

<!--
<div class="section container-fluid">
  <div title="Personal details" bs:panel>
    <div class="row">
      <div class="col-sm-6">
        <input class="form-control" type="number" name="height" placeholder="Height in cm" />
      </div>
    </div>
  </div>
</div>
-->

<!-- end view content -->

  </div>
</div>
