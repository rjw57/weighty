<link rel="import" href="../bower_components/app-chart/app-chart.html">
<link rel="import" href="../bower_components/paper-elements/paper-elements.html">
<link rel="import" href="../bower_components/core-elements/core-elements.html">
<link rel="import" href="../bower_components/polymer/polymer.html">

<polymer-element name="dataset-page" attributes="weightyDataset isLoading">
  <template>
    <style>
      :host {
        display: block;
      }
      #container { overflow: auto; }
    </style>
    <div fit id="container" vertical layout>
        <template if="{{ isLoading }}">
            <div fit vertical layout center-justified>
                <div self-center>
                    <loading-throbber></loading-throbber>
                </div>
            </div>
        </template>
        <template bind="{{ weightyDataset }}" if="{{ !isLoading &amp;&amp; weightyDataset }}">
            <core-header-panel flex>
                <core-toolbar>
                    <paper-icon-button icon="arrow-back" on-tap="{{back}}"></paper-icon-button>
                </core-toolbar>
                <div content vertical layout>
                    <app-chart type="line" responsive>
                        <app-chart-axis type="y"></app-chart-axis>
                        <app-chart-axis type="time"></app-chart-axis>

                        <app-chart-series name="Weight" color="#3498db">
                            <template repeat="{{ data }}">
                                <app-chart-data x="{{ timestamp }}" y="{{ weight }}">
                                </app-chart-data>
                            </template>
                        </app-chart-series>
                    </app-chart>
                </div>
            </core-header-panel>
        </template>
    </div>
  </template>
  <script>
    Polymer({
        isLoading: false,
        back: function() { this.fire('back'); },
    });
  </script>
</polymer-element>
