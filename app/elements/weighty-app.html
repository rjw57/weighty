<link rel="import" href="../bower_components/core-animated-pages/transitions/cascade-transition.html">
<link rel="import" href="../bower_components/core-animated-pages/transitions/slide-from-right.html">
<link rel="import" href="../bower_components/core-animated-pages/transitions/hero-transition.html">
<link rel="import" href="../bower_components/core-elements/core-elements.html">
<link rel="import" href="../bower_components/paper-elements/paper-elements.html">
<link rel="import" href="../bower_components/google-signin/google-signin.html">
<link rel="import" href="../bower_components/polymer/polymer.html">

<link rel="import" href="dataset-list.html">

<polymer-element name="weighty-app" attributes="">
  <template>
    <style>
      :host {
        display: block;
      }

      [main] {
        height: 100%;
        background-color: #eee;
      }

      core-toolbar {
        background-color: #526E9C;
        color: #fff;
      }

      #drawerPanel:not([narrow]) #menuButton {
        display: none;
      }
    </style>

    <div fit>
      <core-animated-pages selected="{{ selectedPage }}" fit transitions="slide-from-right">
        <core-scroll-header-panel name="datasets">
          <core-toolbar>
            <div flex>My Datasets</div>
            <paper-icon-button icon="refresh"
              on-tap="{{ refreshDatasetList }}"></paper-icon-button>
          </core-toolbar>

          <div content vertical layout>
            <paper-button label="foo" on-tap="{{ refreshDatasetList }}"></paper-button>
            <dataset-list id="datasetList"
              on-dataset-list-activated="{{ datasetActivated }}"
            ></dataset-list>
          </div>
        </core-scroll-header-panel>

        <core-scroll-header-panel name="dataset">
          <core-toolbar>
            <paper-icon-button icon="arrow-back" on-tap="{{ exitDataset }}"></paper-icon-button>
            <div>DATASET</div>
          </core-toolbar>

          <div content vertical layout>
            <paper-button label="bar"></paper-button>
            <!--
            <div>DATASET {{ datasetId }}</div>
            <p>gllgg</p>          <p>gllgg</p>          <p>gllgg</p>          <p>gllgg</p>
            <p>gllgg</p>          <p>gllgg</p>          <p>gllgg</p>          <p>gllgg</p>
            <p>gllgg</p>          <p>gllgg</p>          <p>gllgg</p>          <p>gllgg</p>
            <p>gllgg</p>          <p>gllgg</p>          <p>gllgg</p>          <p>gllgg</p>
            <p>gllgg</p>          <p>gllgg</p>          <p>gllgg</p>          <p>gllgg</p>
            <p>gllgg</p>          <p>gllgg</p>          <p>gllgg</p>          <p>gllgg</p>
            <p>gllgg</p>          <p>gllgg</p>          <p>gllgg</p>          <p>gllgg</p>
            <p>gllgg</p>          <p>gllgg</p>          <p>gllgg</p>          <p>gllgg</p>
            <p>gllgg</p>          <p>gllgg</p>          <p>gllgg</p>          <p>gllgg</p>
            <p>gllgg</p>          <p>gllgg</p>          <p>gllgg</p>          <p>gllgg</p>
            <p>gllgg</p>          <p>gllgg</p>          <p>gllgg</p>          <p>gllgg</p>
            -->
          </div>
        </core-scroll-header-panel>
      </core-animated-pages>
    </div>
  </template>
  <script>
    Polymer({
      selectedPage: 'datasets',
      datasetId: null,

      refreshDatasetList: function() {
        this.$.datasetList.refresh();
      },

      datasetActivated: function(event, detail) {
        this.datasetId = detail;
        this.selectedPage = 'dataset';
      },

      exitDataset: function() {
        this.selectedPage = 'datasets';
      },
    });
  </script>
</polymer-element>
