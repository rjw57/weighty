<link rel="import" href="../bower_components/core-elements/core-elements.html">
<link rel="import" href="../bower_components/paper-elements/paper-elements.html">
<link rel="import" href="../bower_components/polymer/polymer.html">

<!-- fix for paper-elements#11 -->
<link rel="import" href="../bower_components/paper-item/paper-item.html">

<link rel="import" href="dataset-page.html">
<link rel="import" href="dataset-selector.html">

<polymer-element name="weighty-app" attributes="datasets" vertical layout>
  <template>
    <link rel="stylesheet" href="theme.css">
    <style>
      :host { display: block; }
      core-toolbar { background-color: transparent; }
    </style>

    <core-animated-pages flex id="pages"
      selected="{{ (datasetId === null) ? 'myDatasets' : 'dataset' }}"
      transitions="hero-transition"
      on-core-animated-pages-transition-end="{{ endTransition }}"
    >
      <dataset-selector fit name="myDatasets"
        datasetId="{{ datasetId }}" datasets="{{ datasets }}"
      ></dataset-selector>

      <section name="dataset">
        <dataset-page fit datasetId="foo" hero hero-id="punch">
          <paper-icon-button controls icon="arrow-back" on-tap="{{ back }}">
          </paper-icon-button>
        </datasets-page>
      </section>
    </core-animated-pages>
  </template>
  <script>
    Polymer({
      datasetId: null,
      back: function() { this.datasetId = null; }
    });
  </script>
</polymer-element>
